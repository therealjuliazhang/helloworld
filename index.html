<!DOCTYPE html>

<html>
    <head>
        <title>Drag and Drop Task</title>
		<!--links for Materialize-->
        <meta name = "viewport" content = "width = device-width, initial-scale = 1">
        <link rel = "stylesheet" href = "https://fonts.googleapis.com/icon?family=Material+Icons">
        <link rel = "stylesheet" href = "https://cdnjs.cloudflare.com/ajax/libs/materialize/0.97.3/css/materialize.min.css">
        <script type = "text/javascript" src = "https://code.jquery.com/jquery-2.1.1.min.js"></script>
        <script src = "https://cdnjs.cloudflare.com/ajax/libs/materialize/0.97.3/js/materialize.min.js"></script>
        
        <!--link for interactjs-->
        <script src="https://cdn.jsdelivr.net/npm/interactjs/dist/interact.min.js"></script>

		<!--link for font awesome icons-->
		<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
    </head>

    <body>
        <!--no header needed for test pages-->
        <!-- body content -->

        <img src="greyCircle.png" width="7%" align="right" onclick="goNext();"></img>
        
            <div>
                <table class="centered">
                    <tbody>
                        <tr>
                            <td width="40%">
                                <img src="Images/Puff.JPG" id="box"></img>
                            </td>
                            <td width="20%">
                                <img src="Images/arrow.png" width="100%"></img>
                            </td>
                            <td width="40%" id="dropZone">
                                <!--
                                 <img id="dropZone" src="Images/darkBlueDropZone.png"></img>
                                 -->
                                
                            </td>
                        </tr>
                    </tbody>
                </table>
            </div>

        
        <!--row for kid's name-->
        <div class="row amber accent-4" style="font-size:35px;font-weight:bold">
            <div class="center-align">
                <span id="preschoolerName">aiden</span>'s Turn
            </div>
        </div>
        <!--end body content-->

    </body>
	<script>
        
        window.onload = function() {
            // find the element that you want to drag.
            var box = document.getElementById('box');
            
            //get width and height for future calc.
            var widthOfImage = box.width;
            var heightOfImage = box.height;

            //alert("W + H = "+widthOfImage+" "+heightOfImage+"\n1/2 W + H = "+halfWidth+" "+halfHeight);
            
            //set size of rectangle dropzone
            var dZone = document.getElementById("dropZone");
            //get coordinates of drop zone
            
            var rectangle = dZone.getBoundingClientRect();
            var dZoneX = rectangle.left;
            var dZoneY = rectangle.top;
            //alert(rectangle.top + " "+rectangle.bottom);
            
            
            
            
            /* listen to the touchMove event,
             every time it fires, grab the location
             of touch and assign it to box */
            
            box.addEventListener('touchmove', function(e) {
                                 event.preventDefault();
                                 
                                 // grab the location of touch
                                 var touchLocation = e.targetTouches[0];
                                 
                                 // assign box new coordinates based on the touch.
                                 box.style.left = (touchLocation.pageX - widthOfImage)+'px';
                                 box.style.top = (touchLocation.pageY - heightOfImage)+'px';
                                 
                                 
                                 
                                 //if touch coordinates are within the drop zone, then change colour of dropzone
                                 if(((touchLocation.pageX - widthOfImage/2)>= rectangle.left)
                                    &&
                                    ((touchLocation.pageX - widthOfImage/2) <= rectangle.right))
                                 {
                                 
                                    document.getElementById("dropZone").style='border:10px solid #64b5f6;';
                                 }
                                 
                                 
                                 })
                                 
                                 /* record the position of the touch
                                  when released using touchend event.
                                  This will be the drop position. */
                                 
            box.addEventListener('touchend', function(e) {
                                 // current box position.
                                 var x = parseInt(box.style.left);
                                 var y = parseInt(box.style.top);
                                 
                                 })
                                                      
        }
	</script>
    <style>
        #box
        {
            position:relative;
            width:80%;
        }
        #dropZone
        {
            border:10px solid #0d47a1;
        }
        .material-icons
        {
            font-size:200px;
        }
        td
        {
            height:500px;
        }
    </style>
</html>
